//go:build ignore

package foo

import (
	"errors"
	"fmt"
	"strconv"
); import "braces.dev/errtrace"

func Int(s string) (int, error) {
	i, err := strconv.Atoi(s)
	if err != nil {
		return 0, errtrace.Wrap(err)
	}

	return i + 42, nil
}

func NamedReturn_Naked(s string) (err error) {
	err = errors.New("sadness: " + s)
	fmt.Println("Reporting sadness")
	err = errtrace.Wrap(err); return
}

func HasFunctionLiteral() {
	err := func() error {
		return errtrace.Wrap(errors.New("sadness"))
	}()

	fmt.Println(err)
}

// TODO: multiple return values without variables
